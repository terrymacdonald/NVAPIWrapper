# ClangSharp P/Invoke Generator Configuration - NVAPI

# --- INPUT ---
# Use one shim header to avoid duplicate inclusion.
--file
BuildNVAPI.h

# Ensure all required NVAPI headers are traversed.
--traverse
../nvapi/nvapi.h
--traverse
../nvapi/nvapi_interface.h
--traverse
../nvapi/NvApiDriverSettings.h
--traverse
../nvapi/nvapi_lite_common.h
--traverse
../nvapi/nvapi_lite_sli.h
--traverse
../nvapi/nvapi_lite_surround.h
--traverse
../nvapi/nvapi_lite_stereo.h
--traverse
../nvapi/nvapi_lite_d3dext.h
--traverse
../nvapi/nvapi_lite_salstart.h
--traverse
../nvapi/nvapi_lite_salend.h

# --- OUTPUT ---
--namespace
NVAPIWrapper

--output
cs_generated

--output-mode
CSharp

--libraryPath
nvapi64

--methodClassName
NVAPI

--language
c++

# --- CREATE TESTS IN NVAPIWrapper.NativeTests PROJECT ---
--test-output
../NVAPIWrapper.NativeTests/generated_tests

# --- EXCLUDES ---
# Function-like macros ClangSharp can't bind; exclude to avoid generator errors.
--exclude
NV_MOSAIC_TOPOLOGY
--exclude
NV_MOSAIC_TOPO_DETAILS
--exclude
nvapi_interface_table
--exclude
NV_TIMING_FLAG
--exclude
NV_GPU_ECC_STATUS_INFO
--exclude
NV_DECLARE_HANDLE
--exclude
NV_BIT
--exclude
MAKE_NVAPI_VERSION
--exclude
GET_NVAPI_VERSION
--exclude
GET_NVAPI_SIZE
--exclude
NVFORMAT_MAKEFOURCC
--exclude
NvU32TONvF32
--exclude
NvF32TONvU32
--exclude
__nvapi_deprecated_function
--exclude
__nvapi_deprecated_datatype

# Force unsigned backing for NVAPI driver settings value enums that use unsigned literals.
--with-type
EValues_OGL_THREAD_CONTROL=uint
--with-type
EValues_OGL_DEFAULT_SWAP_INTERVAL_FRACTIONAL=uint
--with-type
EValues_SHIM_MCCOMPAT=uint
--with-type
EValues_SHIM_RENDERING_MODE=uint
--with-type
EValues_SHIM_RENDERING_OPTIONS=uint

# Match NVAPI short enum layout for display path struct sizing.
--with-type
_NV_FORMAT=byte
--with-type
_NV_ROTATE=byte
--with-type
_NV_SCALING=byte

# NV_TRUE/NV_FALSE use NvBool; ClangSharp emits invalid bool->byte casts.
--exclude
NV_TRUE
--exclude
NV_FALSE

# --- CONFIG ---
--config
latest-codegen
generate-helper-types
generate-doc-includes
multi-file
generate-macro-bindings
windows-types
generate-tests-xunit
log-visited-files
